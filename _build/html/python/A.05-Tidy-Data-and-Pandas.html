
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Tidy Data and Pandas &#8212; CBE 30338 Chemical Process Control</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Coding Controllers with Python Generators" href="A.10-Coding-Controllers-with-Python-Generators.html" />
    <link rel="prev" title="Python Tutorials" href="A.00-Python-Tutorials.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">CBE 30338 Chemical Process Control</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../Readme.html">
                    CBE 30338 Chemical Process Control
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Course Information
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Syllabus.html">
   CBE 30338/32338 Syllabus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Schedule.html">
   CBE 30338/32338 Schedule
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Assignments
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../assignments/00-assignments.html">
   CBE 30338 Assignments
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../assignments/hw-01.html">
     Homework 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../assignments/hw-02.html">
     Homework 2
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Topical Materials
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../notebooks/01.00-What-is-Process-Control.html">
   1. What is Process Control?
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/01.01-What-is-Feedback.html">
     1.1. What is Feedback?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/01.02-Elements-of-Feedback-Control.html">
     1.2. Elements of Process Control
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../notebooks/02.00-Process-Modeling.html">
   2. Process Modeling
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/02.01-One-Compartment-Pharmacokinetics.html">
     2.1. One Compartment Pharmacokinetics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/02.02-Properties-of-Scalar-First-Order-Linear-Systems.html">
     2.2. First-Order Linear Systems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/02.03-First-Order-Model-for-a-Single-Heater.html">
     2.3. First Order Model for a Single Heater
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/02.04-Fitting-a-Model-to-Data.html">
     2.4. Fitting a Model to Experimental Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/02.05-Second-Order.html">
     2.5. Second Order Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/02.06-Fed-Batch-Bioreactor.html">
     2.6. Fed-Batch Bioreactor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/02.07-Exothermic-CSTR.html">
     2.7. Exothermic Continuous Stirred Tank Reactor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/02.08-Hare-and-Lynx.html">
     2.8. Hare and Lynx Population Dynamics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/02.09-Study-Guide.html">
     2.9. Study Guide
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../notebooks/03.00-Feedback-Control.html">
   3. Feedback Control
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/03.01-Case-Study-Thermal-Cycling-PCR.html">
     3.1. Case Study: Thermal Cycling for PCR
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/03.02-Setpoints.html">
     3.2. Setpoints
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/03.03-Setpoints-Thermal-Cycler.html">
     3.3. Case Study: PCR Thermal Cycler Protocols
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/03.04-Relay-Control.html">
     3.4. Relay Control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/03.05-Implementing-Controllers.html">
     3.5. Implementing Controllers in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/03.06-Proportional-Integral-Control.html">
     3.6. Practical Proportional (P) and Proportional-Integral (PI) Control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/03.07-Integral-Windup-and-Bumpless-Transfer.html">
     3.7. Integral Windup and Bumpless Transfer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/03.08-Controller-Tuning.html">
     3.8. Controller Tuning
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../notebooks/04/04.00-Process-Analytics.html">
   4. Process Analytics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/04/04.01-Learning-Goals.html">
     4.1. Learning Goals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/04/04.02-Process-Historians.html">
     4.2. Data/Process/Operational Historian
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/04/04.03-State-Estimation.html">
     4.3. State Estimation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/04/04.04-Lab-Assigment-State-Estimation.html">
     4.4. Lab Assignment 5: State Estimation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/04/04.05-Anomaly-Detection.html">
     4.5. Anomaly Detection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/04/04.06-Lab-Assignment-Anomaly-Detection.html">
     4.6. Lab Assignment 6: Anomaly Detection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/04/04.07-Observer-Synthesis-LMI.html">
     4.7. Observer Synthesis using Linear Matrix Inequalities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/04/04.08-Envrironmental-Application.html">
     4.8. Application of Luenberger Observers to Environmental Modeling of Rivers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/04/04.09-Study-Questions.html">
     4.9. Study Questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../notebooks/05/05.00-Optimization.html">
   5. Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/05/05.01-Linear-Production-Model.html">
     5.1. Linear Production Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/05/05.02-Linear-Blending-Problem.html">
     5.2. Linear Blending Problems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/05/05.03-Homework_2.html">
     5.3. Homework Assignment 2: Optimization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/05/05.04-Gasoline-Blending.html">
     5.4. Gasoline Blending
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/05/05.05-Linear-Programming.html">
     5.5. Linear Programming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/05/05.06-Design-of-a-Cold-Weather-Fuel.html">
     5.6. Design of a Cold Weather Fuel
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/05/05.99-Pyomo-Examples.html">
     5.7. Pyomo Examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../CBE30338-EV-Example.html">
     5.8. Recharging Strategy for an Electric Vehicle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/milk-pooling.html">
     5.9. Pooling and Blending
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../notebooks/06.00-Predictive-Control.html">
   6. Predictive Control
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/07.01-Simulation-and-Optimal-Control-in-Pharmacokinetics.html">
     6.1. Simulation and Optimal Control in Pharmacokinetics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/06.01-Static-Operability.html">
     6.2. Static Operability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/06.02-Simulation-and-Open-Loop-Optimal-Control.html">
     6.3. Open-Loop Optimal Control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/06.03-Predictive-Control.html">
     6.4. Predictive Control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/06.04-Implementing-Predictive-Control.html">
     6.5. Implementing Predictive Control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/06.06-gompertz-model-project.html">
     6.6. Project: Gompertz Model for Tumor Growth
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/06.07-time-as-decision-variable.html">
     6.7. Time as a Decision Variable
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../notebooks/08.00-Projects.html">
   7. Projects
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/08.01-Project-Ideas.html">
     7.1. Project Ideas
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../notebooks/09.00-Bibliography.html">
   8. References
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Control Laboratory
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tclab/00.00-tclab.html">
   1. The Temperature Control Laboratory
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/00.01-setting-up-tclab.html">
     1.1. Setting up TCLab
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/00.02-troubleshooting-tclab.html">
     1.2. Testing and Troubleshooting TCLab
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/00.03-using-tclab.html">
     1.3. Python Coding for TCLab
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tclab/01.00-step-testing.html">
   2. Step Testing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/01.01-step-testing.html">
     2.1. Step Testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/01.02-first-order-model-for-a-single-heater.html">
     2.2. Lab Assignment 1: Step Test of a First-Order System
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tclab/02.00-Empirical-Model-Identification.html">
   3. Empirical Model Identification
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/02.02-Fitting-Step-Test-Data-to-Empirical-Models.html">
     3.1. Fitting Step Test Data to Empirical Models
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tclab/03.00-Estimating-Model-Parameters.html">
   4. Estimating Model Parameters
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/03.10-TCLab-Lab-2-Model-Indentification.html">
     4.1. Assignment: Model Identification
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tclab/04.00-Feedback-Control.html">
   5. Feedback Control
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/04.01-Relay-Control.html">
     5.1. Relay Control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/04.02-Lab-Assignment-Relay-Control.html">
     5.2. Lab Assignment 4: Relay Control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/04.04-Assignment-Thermostat-Control.html">
     5.3. Assignment: Thermostat Control
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tclab/05.00-State-Estimation.html">
   6. State Estimation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/05.01-Open-and-Closed-Loop-Estimation.html">
     6.2. Open and Closed Loop Estimation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tclab/06.00-Optimal-Control.html">
   7. Optimization
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tclab/07.00-Predictive-Control-and-Real-Time-Optimization.html">
   8. Predictive Control and Real Time Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/07.01-Optimization-Control-and-Estimation-using-Pyomo.html">
     8.1. Simulation, Control, and Estimation using Pyomo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tclab/07.02-Optimization-Control-and-Estimation-using-Pyomo-With-Windows-ipopt.html">
     8.2. Simulation, Control, and Estimation using Pyomo
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Python Tutorials
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="A.00-Python-Tutorials.html">
   Python Tutorials
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Tidy Data and Pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="A.10-Coding-Controllers-with-Python-Generators.html">
     Coding Controllers with Python Generators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="A.11-Modular-Approach-to-Simulation-using-Python-Generators.html">
     Modular Simulation using Python Generators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="A.30-Animation-in-Jupyter-Notebooks.html">
     Animation in Jupyter Notebooks
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/jckantor/cbe30338-book/main?urlpath=lab/tree/python/A.05-Tidy-Data-and-Pandas.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/jckantor/cbe30338-book/blob/main/python/A.05-Tidy-Data-and-Pandas.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/jckantor/cbe30338-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/jckantor/cbe30338-book/issues/new?title=Issue%20on%20page%20%2Fpython/A.05-Tidy-Data-and-Pandas.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/python/A.05-Tidy-Data-and-Pandas.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidy-data">
   Tidy Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reading-tidy-data">
   Reading Tidy Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-csv-files">
     From .csv files
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-google-sheets">
     From Google Sheets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-python">
     From Python
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#accessing-data">
   Accessing Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-data">
   Visualizing Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tabular-display">
     Tabular Display
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plotting">
     Plotting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scatter-plots">
     Scatter Plots
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#statistical-plots">
     Statistical Plots
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#case-study-analysis-of-a-double-pipe-heat-exchanger">
   Case Study: Analysis of a Double Pipe Heat Exchanger
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Tidy Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-data">
     Reading Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#energy-balances">
     Energy Balances
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overall-heat-transfer-coefficient-ua">
     Overall Heat Transfer Coefficient
     <span class="math notranslate nohighlight">
      \(UA\)
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-does-ua-depend-on-flowrates">
     How does
     <span class="math notranslate nohighlight">
      \(UA\)
     </span>
     depend on flowrates?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fitting-a-model-for-ua">
     Fitting a Model for
     <span class="math notranslate nohighlight">
      \(UA\)
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparison-of-model-to-experimental-data">
     Comparison of Model to Experimental Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concluding-remarks">
   Concluding Remarks
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Tidy Data and Pandas</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidy-data">
   Tidy Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reading-tidy-data">
   Reading Tidy Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-csv-files">
     From .csv files
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-google-sheets">
     From Google Sheets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#from-python">
     From Python
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#accessing-data">
   Accessing Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-data">
   Visualizing Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tabular-display">
     Tabular Display
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plotting">
     Plotting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scatter-plots">
     Scatter Plots
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#statistical-plots">
     Statistical Plots
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#case-study-analysis-of-a-double-pipe-heat-exchanger">
   Case Study: Analysis of a Double Pipe Heat Exchanger
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Tidy Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-data">
     Reading Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#energy-balances">
     Energy Balances
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overall-heat-transfer-coefficient-ua">
     Overall Heat Transfer Coefficient
     <span class="math notranslate nohighlight">
      \(UA\)
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-does-ua-depend-on-flowrates">
     How does
     <span class="math notranslate nohighlight">
      \(UA\)
     </span>
     depend on flowrates?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fitting-a-model-for-ua">
     Fitting a Model for
     <span class="math notranslate nohighlight">
      \(UA\)
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparison-of-model-to-experimental-data">
     Comparison of Model to Experimental Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concluding-remarks">
   Concluding Remarks
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="tidy-data-and-pandas">
<h1>Tidy Data and Pandas<a class="headerlink" href="#tidy-data-and-pandas" title="Permalink to this headline">#</a></h1>
<p><a class="reference external" href="https://pandas.pydata.org/"><strong>Pandas</strong></a> is, by far, the most widely used Python library for data wrangling and analysis. First released in 2009 for the financial services industry, pandas is now included in all major distributions of Python. It is the mainstay for data analysis in Python.</p>
<p><strong>Tidy Data</strong> is a small set a of core principles to streamline analysis and coding by organizing data into tables with a simple and standardized structure. Tidy Data is highly intuitive and well suited to Pandas. Keeping data organized using “Tidy Data” principles means less time wrangling data, and results in short and clear Python code for analysis.</p>
<p>The purpose of this notebook is to get you started using Pandas and the principles of Tidy Data. In the spirit of the 80/20 rule (i.e., <span class="xref myst">Pareto principle</span>), the goal here is to introduce just enough of the full-featured pandas library to handle routine data analysis tasks.</p>
<p>Some references:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf">Pandas Cheat Sheet</a></p></li>
<li><p><a class="reference external" href="https://vita.had.co.nz/papers/tidy-data.pdf">Tidy Data</a> paper by Hadley Wickham.</p></li>
<li><p><a class="reference external" href="https://r4ds.had.co.nz/tidy-data.html?q=Tidy%20Data#non-tidy-data">Tidy Data</a>, Chapter 12 from R for Data Science.</p></li>
<li><p><a class="reference external" href="https://www.analyticsvidhya.com/blog/2021/05/pandas-functions-13-most-important/">13 Most Important Pandas Functions for Data Science</a></p></li>
<li><p><a class="reference external" href="https://towardsdatascience.com/advanced-pandas-plots-e2347a33d576">Create Stunning Visualizations With Pandas Dataframes in One Line of Code</a> Blog post describing more complex visualizations and libraries based on pandas dataframes.</p></li>
</ul>
<section id="tidy-data">
<h2>Tidy Data<a class="headerlink" href="#tidy-data" title="Permalink to this headline">#</a></h2>
<blockquote>
<div><p>The KonMari Method™ is not a quick fix for a messy room or a once-in-a-while approach to tidying.
It’s a chance to reset your entire life – but only if you commit to following its principles. – Marie Kondo</p>
</div></blockquote>
<p>Data acquired for process applications generally consist of repeated observations of a set of process variables. The values are usually numbers, such as temperature or pressure, but can also be strings, integers, or categorical data indicating the status of equipment or alarms.</p>
<p>We assume data from repeated observations is arranged in tabular form in data files. Each distinct experiment, treatment, or unit of data is located in a separate file.</p>
<ul class="simple">
<li><p>Each distinct experiment, treatment, or unit of data is in a separate file.</p></li>
<li><p>Every column of a data file holds all data for a unique variable.</p></li>
<li><p>Each row of a data file is an observation of all measured variables.</p></li>
<li><p>Every cell contains a single value.</p></li>
</ul>
<p><img alt="" src="https://r4ds.had.co.nz/images/tidy-1.png" />
Figure Source: Figure 12.1 from R for Data Science (Hadley Wickham &amp; Garrett Grolemund)</p>
<p>This organization assigns meaning to the structure of the data file that greatly streamlines subsequent coding and analysis. By consistently using these principles you can reuse old code for new projects, quickly interpret data gathered by other members of a team, and more readily document your projects and reports.</p>
<p>These assumptions are the basis for <a class="reference external" href="https://vita.had.co.nz/papers/tidy-data.pdf">“Tidy Data”</a> principles popularized by Hadley Wickham, and closely related to concepts underlying relational databases.  <a class="reference external" href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005097">Hart, et al., provide excellent contrasting examples of tidy and messy data</a>.</p>
<p>These notes below assume data is stored in data files organized using “Tiny Data” principles. If your data isn’t organized like this, the procedures described by <a class="reference external" href="https://vita.had.co.nz/papers/tidy-data.pdf">Wickham</a> will help you reorgnize your data for more efficient analysis.</p>
</section>
<section id="reading-tidy-data">
<h2>Reading Tidy Data<a class="headerlink" href="#reading-tidy-data" title="Permalink to this headline">#</a></h2>
<p>The first We proceed assuming data is organized by Tidy Data principles, each data set corresponding to an experiment or other clearly defined collection of observations.</p>
<section id="from-csv-files">
<h3>From .csv files<a class="headerlink" href="#from-csv-files" title="Permalink to this headline">#</a></h3>
<p>For files stored in <code class="docutils literal notranslate"><span class="pre">.csv</span></code> format, a pandas <strong>DataFrame</strong> object is created with the <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html"><code class="docutils literal notranslate"><span class="pre">read_csv(data_file)</span></code></a>. <code class="docutils literal notranslate"><span class="pre">data_file</span></code> is a string containing a url or the name of a local file. <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> function has many optional arguments, but for simple cases the path to the data file is often enough to do the job.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">data_file</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jckantor/cbe30338-book/main/notebooks/data/tclab-data-example.csv&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">data_file</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Time</th>
      <th>T1</th>
      <th>T2</th>
      <th>Q1</th>
      <th>Q2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00</td>
      <td>21.543</td>
      <td>20.898</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.00</td>
      <td>21.543</td>
      <td>20.898</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.01</td>
      <td>21.543</td>
      <td>20.898</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.01</td>
      <td>21.543</td>
      <td>20.931</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.00</td>
      <td>21.543</td>
      <td>20.931</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>796</th>
      <td>796.00</td>
      <td>58.281</td>
      <td>37.656</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>797</th>
      <td>797.01</td>
      <td>58.120</td>
      <td>37.656</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>798</th>
      <td>798.01</td>
      <td>58.378</td>
      <td>37.560</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>799</th>
      <td>799.00</td>
      <td>58.281</td>
      <td>37.624</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>800</th>
      <td>800.01</td>
      <td>58.668</td>
      <td>37.592</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>801 rows × 5 columns</p>
</div></div></div>
</div>
</section>
<section id="from-google-sheets">
<h3>From Google Sheets<a class="headerlink" href="#from-google-sheets" title="Permalink to this headline">#</a></h3>
<p>Google sheets are a convenient to collect and share data. There is a complete API and libraries to enable full, authenticated, read/write access to Google Sheets.</p>
<p>But if the data is not confidential and can be temporarilty published to the web for public access, then it takes just a few steps and one line of Python to read the data as pandas DataFrame.</p>
<p>The first step is publish the sheet to the web. In Google Sheets, select “File &gt; Share &gt; Publish to the Web”.</p>
<p><img alt="" src="../_images/pandas-google-sheets-1.png" /></p>
<p>In the dialog box, choose the “Link” tab. Locate the drop-down menus, then select the sheet to be published and “Comma-seperated values (.csv)” format. Click “Publish”.</p>
<p><img alt="" src="../_images/pandas-google-sheets-2.png" /></p>
<p>After confirming the choice to publish, a link url will appear.  This url can be treat as a link to a .csv file. Use <code class="docutils literal notranslate"><span class="pre">.read_csv()</span></code> to create a pandas dataframe.</p>
<p><img alt="" src="../_images/pandas-google-sheets-3.png" /></p>
<p>Copy the url into the following cell to complete the operation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sheet_url</span> <span class="o">=</span> <span class="s2">&quot;https://docs.google.com/spreadsheets/d/e/2PACX-1vSNUCEFMaGZ-y18p-AnDoImEeenMLbRxXBABwFNeP8I3xiUejolPJx-kr4aUywD0szRel81Kftr8J0R/pub?gid=865146464&amp;single=true&amp;output=csv&quot;</span>
<span class="n">hx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">sheet_url</span><span class="p">)</span>
<span class="n">hx</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Flow Rate H</th>
      <th>Flow Rate C</th>
      <th>Trial #</th>
      <th>Hot Flow (L/hr)</th>
      <th>Cold Flow (L/hr)</th>
      <th>Time</th>
      <th>H Outlet</th>
      <th>H Inlet</th>
      <th>C Inlet</th>
      <th>C Outlet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>H</td>
      <td>H</td>
      <td>1</td>
      <td>651</td>
      <td>798</td>
      <td>32:08.1</td>
      <td>37.3</td>
      <td>56.4</td>
      <td>15.5</td>
      <td>30.8</td>
    </tr>
    <tr>
      <th>1</th>
      <td>H</td>
      <td>H</td>
      <td>1</td>
      <td>651</td>
      <td>798</td>
      <td>32:07.8</td>
      <td>37.2</td>
      <td>56.3</td>
      <td>15.4</td>
      <td>30.8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>H</td>
      <td>H</td>
      <td>1</td>
      <td>651</td>
      <td>798</td>
      <td>32:07.6</td>
      <td>37.2</td>
      <td>56.3</td>
      <td>15.4</td>
      <td>30.8</td>
    </tr>
    <tr>
      <th>3</th>
      <td>H</td>
      <td>M</td>
      <td>2</td>
      <td>650</td>
      <td>512</td>
      <td>29:13.0</td>
      <td>41.4</td>
      <td>56.4</td>
      <td>15.6</td>
      <td>34.7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>H</td>
      <td>M</td>
      <td>2</td>
      <td>650</td>
      <td>512</td>
      <td>29:12.3</td>
      <td>41.4</td>
      <td>56.4</td>
      <td>15.6</td>
      <td>34.7</td>
    </tr>
    <tr>
      <th>5</th>
      <td>H</td>
      <td>M</td>
      <td>2</td>
      <td>650</td>
      <td>512</td>
      <td>29:12.1</td>
      <td>41.4</td>
      <td>56.4</td>
      <td>15.6</td>
      <td>34.7</td>
    </tr>
    <tr>
      <th>6</th>
      <td>H</td>
      <td>L</td>
      <td>3</td>
      <td>655</td>
      <td>201</td>
      <td>26:17.3</td>
      <td>47.9</td>
      <td>56.4</td>
      <td>16.1</td>
      <td>42.3</td>
    </tr>
    <tr>
      <th>7</th>
      <td>H</td>
      <td>L</td>
      <td>3</td>
      <td>655</td>
      <td>201</td>
      <td>26:17.1</td>
      <td>47.9</td>
      <td>56.4</td>
      <td>16.2</td>
      <td>42.3</td>
    </tr>
    <tr>
      <th>8</th>
      <td>H</td>
      <td>L</td>
      <td>3</td>
      <td>655</td>
      <td>201</td>
      <td>26:16.8</td>
      <td>47.9</td>
      <td>56.4</td>
      <td>16.2</td>
      <td>42.3</td>
    </tr>
    <tr>
      <th>9</th>
      <td>M</td>
      <td>H</td>
      <td>4</td>
      <td>503</td>
      <td>795</td>
      <td>20:22.3</td>
      <td>34.5</td>
      <td>56.4</td>
      <td>15.5</td>
      <td>29.1</td>
    </tr>
    <tr>
      <th>10</th>
      <td>M</td>
      <td>H</td>
      <td>4</td>
      <td>503</td>
      <td>795</td>
      <td>20:22.1</td>
      <td>34.5</td>
      <td>56.4</td>
      <td>15.5</td>
      <td>29.1</td>
    </tr>
    <tr>
      <th>11</th>
      <td>M</td>
      <td>H</td>
      <td>4</td>
      <td>503</td>
      <td>795</td>
      <td>20:21.8</td>
      <td>34.5</td>
      <td>56.4</td>
      <td>15.5</td>
      <td>29.1</td>
    </tr>
    <tr>
      <th>12</th>
      <td>M</td>
      <td>M</td>
      <td>5</td>
      <td>500</td>
      <td>498</td>
      <td>18:25.1</td>
      <td>38.6</td>
      <td>56.4</td>
      <td>15.8</td>
      <td>32.9</td>
    </tr>
    <tr>
      <th>13</th>
      <td>M</td>
      <td>M</td>
      <td>5</td>
      <td>500</td>
      <td>498</td>
      <td>18:24.8</td>
      <td>38.6</td>
      <td>56.4</td>
      <td>15.8</td>
      <td>33.0</td>
    </tr>
    <tr>
      <th>14</th>
      <td>M</td>
      <td>M</td>
      <td>5</td>
      <td>500</td>
      <td>498</td>
      <td>18:24.6</td>
      <td>38.7</td>
      <td>56.4</td>
      <td>15.8</td>
      <td>33.0</td>
    </tr>
    <tr>
      <th>15</th>
      <td>M</td>
      <td>L</td>
      <td>6</td>
      <td>502</td>
      <td>199</td>
      <td>15:05.3</td>
      <td>45.8</td>
      <td>56.2</td>
      <td>16.2</td>
      <td>41.3</td>
    </tr>
    <tr>
      <th>16</th>
      <td>M</td>
      <td>L</td>
      <td>6</td>
      <td>502</td>
      <td>199</td>
      <td>15:05.1</td>
      <td>45.8</td>
      <td>56.2</td>
      <td>16.2</td>
      <td>41.3</td>
    </tr>
    <tr>
      <th>17</th>
      <td>M</td>
      <td>L</td>
      <td>6</td>
      <td>502</td>
      <td>199</td>
      <td>15:04.8</td>
      <td>45.8</td>
      <td>56.2</td>
      <td>16.2</td>
      <td>41.3</td>
    </tr>
    <tr>
      <th>18</th>
      <td>L</td>
      <td>H</td>
      <td>7</td>
      <td>205</td>
      <td>801</td>
      <td>10:02.8</td>
      <td>25.2</td>
      <td>55.0</td>
      <td>15.4</td>
      <td>23.2</td>
    </tr>
    <tr>
      <th>19</th>
      <td>L</td>
      <td>H</td>
      <td>7</td>
      <td>205</td>
      <td>801</td>
      <td>10:02.6</td>
      <td>25.2</td>
      <td>55.1</td>
      <td>15.4</td>
      <td>23.2</td>
    </tr>
    <tr>
      <th>20</th>
      <td>L</td>
      <td>H</td>
      <td>7</td>
      <td>205</td>
      <td>801</td>
      <td>10:02.3</td>
      <td>25.2</td>
      <td>55.1</td>
      <td>15.4</td>
      <td>23.2</td>
    </tr>
    <tr>
      <th>21</th>
      <td>L</td>
      <td>M</td>
      <td>8</td>
      <td>204</td>
      <td>500</td>
      <td>07:06.6</td>
      <td>28.5</td>
      <td>55.0</td>
      <td>15.6</td>
      <td>26.5</td>
    </tr>
    <tr>
      <th>22</th>
      <td>L</td>
      <td>M</td>
      <td>8</td>
      <td>204</td>
      <td>500</td>
      <td>07:06.3</td>
      <td>28.5</td>
      <td>55.0</td>
      <td>15.6</td>
      <td>26.5</td>
    </tr>
    <tr>
      <th>23</th>
      <td>L</td>
      <td>M</td>
      <td>8</td>
      <td>204</td>
      <td>500</td>
      <td>07:06.1</td>
      <td>28.5</td>
      <td>55.0</td>
      <td>15.6</td>
      <td>26.5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="from-python">
<h3>From Python<a class="headerlink" href="#from-python" title="Permalink to this headline">#</a></h3>
<p>Pandas dataframes can be created directly in Python. Here we demonstrate use of a Python dictionary to create a dataframe with data for variables computed as numpy arrays.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">201</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

<span class="n">df_np</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">t</span><span class="p">,</span> <span class="s2">&quot;sin&quot;</span><span class="p">:</span> <span class="n">s</span><span class="p">,</span> <span class="s2">&quot;cos&quot;</span><span class="p">:</span> <span class="n">c</span><span class="p">})</span>
<span class="n">df_np</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>sin</th>
      <th>cos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00</td>
      <td>0.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.05</td>
      <td>0.049979</td>
      <td>0.998750</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.10</td>
      <td>0.099833</td>
      <td>0.995004</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.15</td>
      <td>0.149438</td>
      <td>0.988771</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.20</td>
      <td>0.198669</td>
      <td>0.980067</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>196</th>
      <td>9.80</td>
      <td>-0.366479</td>
      <td>-0.930426</td>
    </tr>
    <tr>
      <th>197</th>
      <td>9.85</td>
      <td>-0.412523</td>
      <td>-0.910947</td>
    </tr>
    <tr>
      <th>198</th>
      <td>9.90</td>
      <td>-0.457536</td>
      <td>-0.889191</td>
    </tr>
    <tr>
      <th>199</th>
      <td>9.95</td>
      <td>-0.501405</td>
      <td>-0.865213</td>
    </tr>
    <tr>
      <th>200</th>
      <td>10.00</td>
      <td>-0.544021</td>
      <td>-0.839072</td>
    </tr>
  </tbody>
</table>
<p>201 rows × 3 columns</p>
</div></div></div>
</div>
</section>
</section>
<section id="accessing-data">
<h2>Accessing Data<a class="headerlink" href="#accessing-data" title="Permalink to this headline">#</a></h2>
<p>The core object in pandas is the <strong>DataFrame</strong>. For “Tidy Data”, a DataFrame will be collection of columns, each column containing observations of a single, unique variable. Each row is one observation of all variables.</p>
<p>The <strong>index</strong> assigns a unique label to each row/observation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=801, step=1)
</pre></div>
</div>
</div>
</div>
<p>The names of the <strong>columns</strong> are given by <code class="docutils literal notranslate"><span class="pre">.columns</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Time&#39;, &#39;T1&#39;, &#39;T2&#39;, &#39;Q1&#39;, &#39;Q2&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Each column forms a <code class="docutils literal notranslate"><span class="pre">Series</span></code> comprised of all observations of a variable. There are several common ways to access the data series for a variable. These produce the same result.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">df[&quot;T1&quot;]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.T1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.loc[:,</span> <span class="pre">&quot;T1&quot;]</span></code></p></li>
</ul>
<p>Which you choose depends on situation and context.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;T1&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      21.543
1      21.543
2      21.543
3      21.543
4      21.543
        ...  
796    58.281
797    58.120
798    58.378
799    58.281
800    58.668
Name: T1, Length: 801, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.loc[row,</span> <span class="pre">column]</span></code> is used to extract slices of the dataframe. A single value is accessed by row index and column label.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;T1&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>21.543
</pre></div>
</div>
</div>
</div>
<p>To extract values for multiple variables from a single observation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;T1&quot;</span><span class="p">,</span> <span class="s2">&quot;T2&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>T1    21.543
T2    20.931
Name: 3, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>To extract a range of observations of one or more variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;T1&quot;</span><span class="p">,</span> <span class="s2">&quot;T2&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>T1</th>
      <th>T2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>21.543</td>
      <td>20.931</td>
    </tr>
    <tr>
      <th>4</th>
      <td>21.543</td>
      <td>20.931</td>
    </tr>
    <tr>
      <th>5</th>
      <td>21.543</td>
      <td>20.931</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Observations can be selected by conditions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">Time</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Time</span> <span class="o">&lt;=</span> <span class="mi">110</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Time</th>
      <th>T1</th>
      <th>T2</th>
      <th>Q1</th>
      <th>Q2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>100</th>
      <td>100.01</td>
      <td>36.367</td>
      <td>22.929</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>101</th>
      <td>101.00</td>
      <td>36.399</td>
      <td>23.090</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>102</th>
      <td>102.01</td>
      <td>36.689</td>
      <td>23.154</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>103</th>
      <td>103.01</td>
      <td>36.689</td>
      <td>23.154</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>104</th>
      <td>104.01</td>
      <td>37.012</td>
      <td>23.187</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>105</th>
      <td>105.01</td>
      <td>37.012</td>
      <td>23.154</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>106</th>
      <td>106.00</td>
      <td>37.173</td>
      <td>23.154</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>107</th>
      <td>107.00</td>
      <td>37.334</td>
      <td>23.187</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>108</th>
      <td>108.00</td>
      <td>37.398</td>
      <td>23.380</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>109</th>
      <td>109.01</td>
      <td>37.656</td>
      <td>23.412</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>110</th>
      <td>110.00</td>
      <td>37.656</td>
      <td>23.412</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="visualizing-data">
<h2>Visualizing Data<a class="headerlink" href="#visualizing-data" title="Permalink to this headline">#</a></h2>
<p>Pandas provides convenient tools for displaying data in tabular and graphical formats.</p>
<section id="tabular-display">
<h3>Tabular Display<a class="headerlink" href="#tabular-display" title="Permalink to this headline">#</a></h3>
<p>The quickest way to display a dataframe as a table is with <code class="docutils literal notranslate"><span class="pre">display()</span></code>. Additional styling and formating options are available through a dataframe’s <code class="docutils literal notranslate"><span class="pre">.style</span></code> property.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Time</th>
      <th>T1</th>
      <th>T2</th>
      <th>Q1</th>
      <th>Q2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00</td>
      <td>21.543</td>
      <td>20.898</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.00</td>
      <td>21.543</td>
      <td>20.898</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.01</td>
      <td>21.543</td>
      <td>20.898</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.01</td>
      <td>21.543</td>
      <td>20.931</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.00</td>
      <td>21.543</td>
      <td>20.931</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>796</th>
      <td>796.00</td>
      <td>58.281</td>
      <td>37.656</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>797</th>
      <td>797.01</td>
      <td>58.120</td>
      <td>37.656</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>798</th>
      <td>798.01</td>
      <td>58.378</td>
      <td>37.560</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>799</th>
      <td>799.00</td>
      <td>58.281</td>
      <td>37.624</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>800</th>
      <td>800.01</td>
      <td>58.668</td>
      <td>37.592</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>801 rows × 5 columns</p>
</div></div></div>
</div>
<p>For development it is often enough to view just the first few rows or last few rows of a dataframe. The dataframe methods <code class="docutils literal notranslate"><span class="pre">.head()</span></code> and <code class="docutils literal notranslate"><span class="pre">.tail()</span></code> provide this service.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Time</th>
      <th>T1</th>
      <th>T2</th>
      <th>Q1</th>
      <th>Q2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00</td>
      <td>21.543</td>
      <td>20.898</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.00</td>
      <td>21.543</td>
      <td>20.898</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.01</td>
      <td>21.543</td>
      <td>20.898</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.01</td>
      <td>21.543</td>
      <td>20.931</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4.00</td>
      <td>21.543</td>
      <td>20.931</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Time</th>
      <th>T1</th>
      <th>T2</th>
      <th>Q1</th>
      <th>Q2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>796</th>
      <td>796.00</td>
      <td>58.281</td>
      <td>37.656</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>797</th>
      <td>797.01</td>
      <td>58.120</td>
      <td>37.656</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>798</th>
      <td>798.01</td>
      <td>58.378</td>
      <td>37.560</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>799</th>
      <td>799.00</td>
      <td>58.281</td>
      <td>37.624</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>800</th>
      <td>800.01</td>
      <td>58.668</td>
      <td>37.592</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="plotting">
<h3>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">#</a></h3>
<p>An extensive variety of plots can be constructed using a dataframe’s <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method. Many of the usual Matploblib plotting commands can be accessed through options passed to <code class="docutils literal notranslate"><span class="pre">.plot()</span></code>. For many routine applications, a single call of a dataframe’s <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method can replace many lines of Python code using Matplotlib.</p>
<p>For example, to plot all observations for a single variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">T1</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_31_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_31_1.png" />
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method will often be used to plot one or more variables on the vertical ‘y’ axis as a function of another variable on the horizontal ‘x’ axes. Additional options specify line styles, grid, labels, titles, and much more.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="s2">&quot;Time&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;T1&quot;</span><span class="p">,</span> <span class="s2">&quot;T2&quot;</span><span class="p">],</span>
    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;T1&quot;</span><span class="p">:</span> <span class="s2">&quot;rx&quot;</span><span class="p">,</span> <span class="s2">&quot;T2&quot;</span><span class="p">:</span> <span class="s2">&quot;g&quot;</span><span class="p">},</span>
    <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;deg C&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;TC Lab&quot;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&#39;TC Lab&#39;}, xlabel=&#39;Time&#39;, ylabel=&#39;deg C&#39;&gt;
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_33_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_33_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Time&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;T1&quot;</span><span class="p">,</span> <span class="s2">&quot;T2&quot;</span><span class="p">],</span> <span class="n">subplots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&lt;AxesSubplot:xlabel=&#39;Time&#39;&gt;, &lt;AxesSubplot:xlabel=&#39;Time&#39;&gt;]],
      dtype=object)
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_34_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_34_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">Time</span> <span class="o">&gt;</span> <span class="mi">570</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Time</span> <span class="o">&lt;</span> <span class="mi">680</span><span class="p">)]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Time&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;T1&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;T1&quot;</span><span class="p">:</span> <span class="s2">&quot;s:&quot;</span><span class="p">},</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Time&#39;&gt;
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_35_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_35_1.png" />
</div>
</div>
</section>
<section id="scatter-plots">
<h3>Scatter Plots<a class="headerlink" href="#scatter-plots" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;T1&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;T2&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;T1&#39;, ylabel=&#39;T2&#39;&gt;
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_37_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_37_1.png" />
</div>
</div>
</section>
<section id="statistical-plots">
<h3>Statistical Plots<a class="headerlink" href="#statistical-plots" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s2">&quot;T1&quot;</span><span class="p">,</span> <span class="s2">&quot;T2&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&lt;AxesSubplot:title={&#39;center&#39;:&#39;T1&#39;}&gt;,
        &lt;AxesSubplot:title={&#39;center&#39;:&#39;T2&#39;}&gt;]], dtype=object)
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_39_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_39_1.png" />
</div>
</div>
</section>
</section>
<section id="case-study-analysis-of-a-double-pipe-heat-exchanger">
<h2>Case Study: Analysis of a Double Pipe Heat Exchanger<a class="headerlink" href="#case-study-analysis-of-a-double-pipe-heat-exchanger" title="Permalink to this headline">#</a></h2>
<p>A stalwart of undergraduate chemical engineering laboratories is study of a double-pipe heat exchanger in counter-current flow. In this case, a student group collected multiple measurements of flow and temperature data from a heat exchanger with sensors configured as shown in the following diagram. (Note: The diagram shows co-current flow. The data was collected with the valves configured for counter-current flow of the hot stream.)</p>
<p><img alt="" src="https://www.gunt.de/images/datasheet/1495/WL-315C-Comparison-of-various-heat-exchangers-gunt-1495-zeichnung_einzelheit_2.jpg" />
Source: <a class="reference external" href="https://www.gunt.de/en/products/comparison-of-various-heat-exchangers/060.315C0/wl315c/glct-1:pa-148:pr-1495">Gunt WL315C Product Description</a></p>
<section id="id1">
<h3>Tidy Data<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h3>
<p>The student group designed a series of experiments measuring the performance of the heat exchanger to high (H), medium (M), and low (L) flowrates for both the hot and cold streams — a total of nine flowrate combinations. For each combination they reported data for three repeated observations. <a class="reference external" href="https://docs.google.com/spreadsheets/d/1wuJq3B4z0tmTIsRpm5zZUP-PBBxT6OpuJKeBlQcQ4Z0/edit?usp=sharing">A portion of their data is available on Google Sheets</a>. From this data they intend to compute the overall heat transfer coefficient <span class="math notranslate nohighlight">\(UA\)</span>, and attempt to fit a regression model for the heat transfer coefficients as a function of the flowrates.</p>
<p>A screenshot of the data collected by the students is given below.</p>
<p><img alt="" src="../_images/pandas-google-sheets-4.png" /></p>
<div class="admonition-study-question admonition">
<p class="admonition-title">Study Question</p>
<p>Before reading further, can you find three ways this data set is not consistent with Tidy Data?</p>
<div class="toggle docutils container">
<ul class="simple">
<li><p>Empty rows are included for formatting that do not contain observations.</p></li>
<li><p>Missing observations for trial 9.</p></li>
<li><p>The use of vertical merging to indicate values by position rather than by actual content.</p></li>
<li><p>The “Flow Rate (H/C)” includes two values in each cell.</p></li>
<li><p>Information in the first column is meta-data, not a useful value to include in the observations.</p></li>
</ul>
</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</section>
<section id="reading-data">
<h3>Reading Data<a class="headerlink" href="#reading-data" title="Permalink to this headline">#</a></h3>
<p>The raw data was copied to a new sheet in the same Google Sheets file, edited to conform with Tidy Data, and a link created using the procedures outlined above for reading data from Google Sheets. The data is read in the following cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://docs.google.com/spreadsheets/d/e/2PACX-1vSNUCEFMaGZ-y18p-AnDoImEeenMLbRxXBABwFNeP8I3xiUejolPJx-kr4aUywD0szRel81Kftr8J0R/pub?gid=865146464&amp;single=true&amp;output=csv&quot;</span>
<span class="p">)</span>
<span class="n">hx</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Flow Rate H</th>
      <th>Flow Rate C</th>
      <th>Trial #</th>
      <th>Hot Flow (L/hr)</th>
      <th>Cold Flow (L/hr)</th>
      <th>Time</th>
      <th>H Outlet</th>
      <th>H Inlet</th>
      <th>C Inlet</th>
      <th>C Outlet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>H</td>
      <td>H</td>
      <td>1</td>
      <td>651</td>
      <td>798</td>
      <td>32:08.1</td>
      <td>37.3</td>
      <td>56.4</td>
      <td>15.5</td>
      <td>30.8</td>
    </tr>
    <tr>
      <th>1</th>
      <td>H</td>
      <td>H</td>
      <td>1</td>
      <td>651</td>
      <td>798</td>
      <td>32:07.8</td>
      <td>37.2</td>
      <td>56.3</td>
      <td>15.4</td>
      <td>30.8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>H</td>
      <td>H</td>
      <td>1</td>
      <td>651</td>
      <td>798</td>
      <td>32:07.6</td>
      <td>37.2</td>
      <td>56.3</td>
      <td>15.4</td>
      <td>30.8</td>
    </tr>
    <tr>
      <th>3</th>
      <td>H</td>
      <td>M</td>
      <td>2</td>
      <td>650</td>
      <td>512</td>
      <td>29:13.0</td>
      <td>41.4</td>
      <td>56.4</td>
      <td>15.6</td>
      <td>34.7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>H</td>
      <td>M</td>
      <td>2</td>
      <td>650</td>
      <td>512</td>
      <td>29:12.3</td>
      <td>41.4</td>
      <td>56.4</td>
      <td>15.6</td>
      <td>34.7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="energy-balances">
<h3>Energy Balances<a class="headerlink" href="#energy-balances" title="Permalink to this headline">#</a></h3>
<p>The first step in this analysis is to verify the energy balance.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
Q_h &amp; = \dot{q}_h \rho C_p (T_{h,in} - T_{h,out}) \\
Q_c &amp; = \dot{q}_c \rho C_p (T_{c,out} - T_{c, in})
\end{align*}
\end{split}\]</div>
<p>The next cell creates two new calculated variables in the dataframe for <span class="math notranslate nohighlight">\(Q_h\)</span> and <span class="math notranslate nohighlight">\(Q_c\)</span>, and uses the pandas plotting facility to visualize the results. This calculation takes advantage of the “one variable per column” rule of Tidy Data which enables calculations for all observations to be done in a single line of code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># heat capacity of water</span>
<span class="n">rho</span> <span class="o">=</span> <span class="mf">1.00</span>  <span class="c1"># kg / liter</span>
<span class="n">Cp</span> <span class="o">=</span> <span class="mf">4.18</span>  <span class="c1"># kJ/ kg / deg C</span>

<span class="c1"># heat balances</span>
<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Qh&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">Cp</span> <span class="o">*</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Hot Flow (L/hr)&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">hx</span><span class="p">[</span><span class="s2">&quot;H Inlet&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;H Outlet&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="mi">3600</span>
<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Qc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">Cp</span> <span class="o">*</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Cold Flow (L/hr)&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">hx</span><span class="p">[</span><span class="s2">&quot;C Outlet&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;C Inlet&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="mi">3600</span>
<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Loss (%)&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Qc&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Qh&quot;</span><span class="p">])</span>

<span class="c1"># plot</span>
<span class="n">display</span><span class="p">(</span><span class="n">hx</span><span class="p">[[</span><span class="s2">&quot;Qh&quot;</span><span class="p">,</span> <span class="s2">&quot;Qc&quot;</span><span class="p">,</span> <span class="s2">&quot;Loss (%)&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="n">hx</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Qh&quot;</span><span class="p">,</span> <span class="s2">&quot;Qc&quot;</span><span class="p">],</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Observation&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;kW&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
</style>
<table id="T_7f427">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_7f427_level0_col0" class="col_heading level0 col0" >Qh</th>
      <th id="T_7f427_level0_col1" class="col_heading level0 col1" >Qc</th>
      <th id="T_7f427_level0_col2" class="col_heading level0 col2" >Loss (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_7f427_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_7f427_row0_col0" class="data row0 col0" >14.44</td>
      <td id="T_7f427_row0_col1" class="data row0 col1" >14.18</td>
      <td id="T_7f427_row0_col2" class="data row0 col2" >1.81</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_7f427_row1_col0" class="data row1 col0" >14.44</td>
      <td id="T_7f427_row1_col1" class="data row1 col1" >14.27</td>
      <td id="T_7f427_row1_col2" class="data row1 col2" >1.17</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_7f427_row2_col0" class="data row2 col0" >14.44</td>
      <td id="T_7f427_row2_col1" class="data row2 col1" >14.27</td>
      <td id="T_7f427_row2_col2" class="data row2 col2" >1.17</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_7f427_row3_col0" class="data row3 col0" >11.32</td>
      <td id="T_7f427_row3_col1" class="data row3 col1" >11.35</td>
      <td id="T_7f427_row3_col2" class="data row3 col2" >-0.30</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_7f427_row4_col0" class="data row4 col0" >11.32</td>
      <td id="T_7f427_row4_col1" class="data row4 col1" >11.35</td>
      <td id="T_7f427_row4_col2" class="data row4 col2" >-0.30</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_7f427_row5_col0" class="data row5 col0" >11.32</td>
      <td id="T_7f427_row5_col1" class="data row5 col1" >11.35</td>
      <td id="T_7f427_row5_col2" class="data row5 col2" >-0.30</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_7f427_row6_col0" class="data row6 col0" >6.46</td>
      <td id="T_7f427_row6_col1" class="data row6 col1" >6.11</td>
      <td id="T_7f427_row6_col2" class="data row6 col2" >5.41</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_7f427_row7_col0" class="data row7 col0" >6.46</td>
      <td id="T_7f427_row7_col1" class="data row7 col1" >6.09</td>
      <td id="T_7f427_row7_col2" class="data row7 col2" >5.77</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_7f427_row8_col0" class="data row8 col0" >6.46</td>
      <td id="T_7f427_row8_col1" class="data row8 col1" >6.09</td>
      <td id="T_7f427_row8_col2" class="data row8 col2" >5.77</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row9" class="row_heading level0 row9" >9</th>
      <td id="T_7f427_row9_col0" class="data row9 col0" >12.79</td>
      <td id="T_7f427_row9_col1" class="data row9 col1" >12.55</td>
      <td id="T_7f427_row9_col2" class="data row9 col2" >1.85</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row10" class="row_heading level0 row10" >10</th>
      <td id="T_7f427_row10_col0" class="data row10 col0" >12.79</td>
      <td id="T_7f427_row10_col1" class="data row10 col1" >12.55</td>
      <td id="T_7f427_row10_col2" class="data row10 col2" >1.85</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row11" class="row_heading level0 row11" >11</th>
      <td id="T_7f427_row11_col0" class="data row11 col0" >12.79</td>
      <td id="T_7f427_row11_col1" class="data row11 col1" >12.55</td>
      <td id="T_7f427_row11_col2" class="data row11 col2" >1.85</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row12" class="row_heading level0 row12" >12</th>
      <td id="T_7f427_row12_col0" class="data row12 col0" >10.33</td>
      <td id="T_7f427_row12_col1" class="data row12 col1" >9.89</td>
      <td id="T_7f427_row12_col2" class="data row12 col2" >4.32</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row13" class="row_heading level0 row13" >13</th>
      <td id="T_7f427_row13_col0" class="data row13 col0" >10.33</td>
      <td id="T_7f427_row13_col1" class="data row13 col1" >9.95</td>
      <td id="T_7f427_row13_col2" class="data row13 col2" >3.76</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row14" class="row_heading level0 row14" >14</th>
      <td id="T_7f427_row14_col0" class="data row14 col0" >10.28</td>
      <td id="T_7f427_row14_col1" class="data row14 col1" >9.95</td>
      <td id="T_7f427_row14_col2" class="data row14 col2" >3.21</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row15" class="row_heading level0 row15" >15</th>
      <td id="T_7f427_row15_col0" class="data row15 col0" >6.06</td>
      <td id="T_7f427_row15_col1" class="data row15 col1" >5.80</td>
      <td id="T_7f427_row15_col2" class="data row15 col2" >4.33</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row16" class="row_heading level0 row16" >16</th>
      <td id="T_7f427_row16_col0" class="data row16 col0" >6.06</td>
      <td id="T_7f427_row16_col1" class="data row16 col1" >5.80</td>
      <td id="T_7f427_row16_col2" class="data row16 col2" >4.33</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row17" class="row_heading level0 row17" >17</th>
      <td id="T_7f427_row17_col0" class="data row17 col0" >6.06</td>
      <td id="T_7f427_row17_col1" class="data row17 col1" >5.80</td>
      <td id="T_7f427_row17_col2" class="data row17 col2" >4.33</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row18" class="row_heading level0 row18" >18</th>
      <td id="T_7f427_row18_col0" class="data row18 col0" >7.09</td>
      <td id="T_7f427_row18_col1" class="data row18 col1" >7.25</td>
      <td id="T_7f427_row18_col2" class="data row18 col2" >-2.27</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row19" class="row_heading level0 row19" >19</th>
      <td id="T_7f427_row19_col0" class="data row19 col0" >7.12</td>
      <td id="T_7f427_row19_col1" class="data row19 col1" >7.25</td>
      <td id="T_7f427_row19_col2" class="data row19 col2" >-1.93</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row20" class="row_heading level0 row20" >20</th>
      <td id="T_7f427_row20_col0" class="data row20 col0" >7.12</td>
      <td id="T_7f427_row20_col1" class="data row20 col1" >7.25</td>
      <td id="T_7f427_row20_col2" class="data row20 col2" >-1.93</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row21" class="row_heading level0 row21" >21</th>
      <td id="T_7f427_row21_col0" class="data row21 col0" >6.28</td>
      <td id="T_7f427_row21_col1" class="data row21 col1" >6.33</td>
      <td id="T_7f427_row21_col2" class="data row21 col2" >-0.81</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row22" class="row_heading level0 row22" >22</th>
      <td id="T_7f427_row22_col0" class="data row22 col0" >6.28</td>
      <td id="T_7f427_row22_col1" class="data row22 col1" >6.33</td>
      <td id="T_7f427_row22_col2" class="data row22 col2" >-0.81</td>
    </tr>
    <tr>
      <th id="T_7f427_level0_row23" class="row_heading level0 row23" >23</th>
      <td id="T_7f427_row23_col0" class="data row23 col0" >6.28</td>
      <td id="T_7f427_row23_col1" class="data row23 col1" >6.33</td>
      <td id="T_7f427_row23_col2" class="data row23 col2" >-0.81</td>
    </tr>
  </tbody>
</table>
</div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Observation&#39;, ylabel=&#39;kW&#39;&gt;
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_45_2.png" src="../_images/A.05-Tidy-Data-and-Pandas_45_2.png" />
</div>
</div>
</section>
<section id="overall-heat-transfer-coefficient-ua">
<h3>Overall Heat Transfer Coefficient <span class="math notranslate nohighlight">\(UA\)</span><a class="headerlink" href="#overall-heat-transfer-coefficient-ua" title="Permalink to this headline">#</a></h3>
<p>The performance of a counter-current heat exchanger is given the relationship</p>
<div class="math notranslate nohighlight">
\[Q = U A \Delta T_{lm} \]</div>
<p>where <span class="math notranslate nohighlight">\(\Delta T_{lm}\)</span> is the log-mean temperature given by</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\Delta T_0 &amp; = T_{h, out} - T_{c, in} \\
\Delta T_1 &amp; = T_{h, in} - T_{c, out} \\
\\
\Delta T_{lm} &amp; = \frac{\Delta T_1 - \Delta T_0}{\ln\frac{\Delta T_1}{\Delta T_0}}
\end{align*}
\end{split}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dT0</span> <span class="o">=</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;H Outlet&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;C Inlet&quot;</span><span class="p">]</span>
<span class="n">dT1</span> <span class="o">=</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;H Inlet&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;C Outlet&quot;</span><span class="p">]</span>
<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;LMTD&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">dT1</span> <span class="o">-</span> <span class="n">dT0</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">dT1</span> <span class="o">/</span> <span class="n">dT0</span><span class="p">)</span>

<span class="n">Q</span> <span class="o">=</span> <span class="p">(</span><span class="n">hx</span><span class="o">.</span><span class="n">Qh</span> <span class="o">+</span> <span class="n">hx</span><span class="o">.</span><span class="n">Qc</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;UA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Q</span> <span class="o">/</span> <span class="n">hx</span><span class="o">.</span><span class="n">LMTD</span>

<span class="n">hx</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;UA&quot;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Observation&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;kW/deg C&quot;</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Observation&#39;, ylabel=&#39;kW/deg C&#39;&gt;
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_47_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_47_1.png" />
</div>
</div>
</section>
<section id="how-does-ua-depend-on-flowrates">
<h3>How does <span class="math notranslate nohighlight">\(UA\)</span> depend on flowrates?<a class="headerlink" href="#how-does-ua-depend-on-flowrates" title="Permalink to this headline">#</a></h3>
<p>The data clearly demonstrate that the heat transfer coefficient in the double pipe heat exchanger depends on flowrates of both the cold and hot liquid streams. We can see this by inspecting the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hx</span><span class="p">[[</span><span class="s2">&quot;Flow Rate H&quot;</span><span class="p">,</span> <span class="s2">&quot;Flow Rate C&quot;</span><span class="p">,</span> <span class="s2">&quot;Hot Flow (L/hr)&quot;</span><span class="p">,</span> <span class="s2">&quot;Cold Flow (L/hr)&quot;</span><span class="p">,</span> <span class="s2">&quot;UA&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Flow Rate H</th>
      <th>Flow Rate C</th>
      <th>Hot Flow (L/hr)</th>
      <th>Cold Flow (L/hr)</th>
      <th>UA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>H</td>
      <td>H</td>
      <td>651</td>
      <td>798</td>
      <td>0.604966</td>
    </tr>
    <tr>
      <th>1</th>
      <td>H</td>
      <td>H</td>
      <td>651</td>
      <td>798</td>
      <td>0.608145</td>
    </tr>
    <tr>
      <th>2</th>
      <td>H</td>
      <td>H</td>
      <td>651</td>
      <td>798</td>
      <td>0.608145</td>
    </tr>
    <tr>
      <th>3</th>
      <td>H</td>
      <td>M</td>
      <td>650</td>
      <td>512</td>
      <td>0.478571</td>
    </tr>
    <tr>
      <th>4</th>
      <td>H</td>
      <td>M</td>
      <td>650</td>
      <td>512</td>
      <td>0.478571</td>
    </tr>
    <tr>
      <th>5</th>
      <td>H</td>
      <td>M</td>
      <td>650</td>
      <td>512</td>
      <td>0.478571</td>
    </tr>
    <tr>
      <th>6</th>
      <td>H</td>
      <td>L</td>
      <td>655</td>
      <td>201</td>
      <td>0.288997</td>
    </tr>
    <tr>
      <th>7</th>
      <td>H</td>
      <td>L</td>
      <td>655</td>
      <td>201</td>
      <td>0.288976</td>
    </tr>
    <tr>
      <th>8</th>
      <td>H</td>
      <td>L</td>
      <td>655</td>
      <td>201</td>
      <td>0.288976</td>
    </tr>
    <tr>
      <th>9</th>
      <td>M</td>
      <td>H</td>
      <td>503</td>
      <td>795</td>
      <td>0.553374</td>
    </tr>
    <tr>
      <th>10</th>
      <td>M</td>
      <td>H</td>
      <td>503</td>
      <td>795</td>
      <td>0.553374</td>
    </tr>
    <tr>
      <th>11</th>
      <td>M</td>
      <td>H</td>
      <td>503</td>
      <td>795</td>
      <td>0.553374</td>
    </tr>
    <tr>
      <th>12</th>
      <td>M</td>
      <td>M</td>
      <td>500</td>
      <td>498</td>
      <td>0.436787</td>
    </tr>
    <tr>
      <th>13</th>
      <td>M</td>
      <td>M</td>
      <td>500</td>
      <td>498</td>
      <td>0.438975</td>
    </tr>
    <tr>
      <th>14</th>
      <td>M</td>
      <td>M</td>
      <td>500</td>
      <td>498</td>
      <td>0.436765</td>
    </tr>
    <tr>
      <th>15</th>
      <td>M</td>
      <td>L</td>
      <td>502</td>
      <td>199</td>
      <td>0.276936</td>
    </tr>
    <tr>
      <th>16</th>
      <td>M</td>
      <td>L</td>
      <td>502</td>
      <td>199</td>
      <td>0.276936</td>
    </tr>
    <tr>
      <th>17</th>
      <td>M</td>
      <td>L</td>
      <td>502</td>
      <td>199</td>
      <td>0.276936</td>
    </tr>
    <tr>
      <th>18</th>
      <td>L</td>
      <td>H</td>
      <td>205</td>
      <td>801</td>
      <td>0.383826</td>
    </tr>
    <tr>
      <th>19</th>
      <td>L</td>
      <td>H</td>
      <td>205</td>
      <td>801</td>
      <td>0.383744</td>
    </tr>
    <tr>
      <th>20</th>
      <td>L</td>
      <td>H</td>
      <td>205</td>
      <td>801</td>
      <td>0.383744</td>
    </tr>
    <tr>
      <th>21</th>
      <td>L</td>
      <td>M</td>
      <td>204</td>
      <td>500</td>
      <td>0.320247</td>
    </tr>
    <tr>
      <th>22</th>
      <td>L</td>
      <td>M</td>
      <td>204</td>
      <td>500</td>
      <td>0.320247</td>
    </tr>
    <tr>
      <th>23</th>
      <td>L</td>
      <td>M</td>
      <td>204</td>
      <td>500</td>
      <td>0.320247</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The replicated measurements provide an opportunity to compute averages. Here we use the pandas <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> function to group observations and compute means. The data will be used to plot results, so we’ll save the results of these calculations as a new dataframe for reuse.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sx</span> <span class="o">=</span> <span class="n">hx</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;Flow Rate H&quot;</span><span class="p">,</span> <span class="s2">&quot;Flow Rate C&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()[</span>
    <span class="p">[</span><span class="s2">&quot;Hot Flow (L/hr)&quot;</span><span class="p">,</span> <span class="s2">&quot;Cold Flow (L/hr)&quot;</span><span class="p">,</span> <span class="s2">&quot;UA&quot;</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">sx</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Hot Flow (L/hr)</th>
      <th>Cold Flow (L/hr)</th>
      <th>UA</th>
    </tr>
    <tr>
      <th>Flow Rate H</th>
      <th>Flow Rate C</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="3" valign="top">H</th>
      <th>H</th>
      <td>651.0</td>
      <td>798.0</td>
      <td>0.607085</td>
    </tr>
    <tr>
      <th>L</th>
      <td>655.0</td>
      <td>201.0</td>
      <td>0.288983</td>
    </tr>
    <tr>
      <th>M</th>
      <td>650.0</td>
      <td>512.0</td>
      <td>0.478571</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">L</th>
      <th>H</th>
      <td>205.0</td>
      <td>801.0</td>
      <td>0.383771</td>
    </tr>
    <tr>
      <th>M</th>
      <td>204.0</td>
      <td>500.0</td>
      <td>0.320247</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">M</th>
      <th>H</th>
      <td>503.0</td>
      <td>795.0</td>
      <td>0.553374</td>
    </tr>
    <tr>
      <th>L</th>
      <td>502.0</td>
      <td>199.0</td>
      <td>0.276936</td>
    </tr>
    <tr>
      <th>M</th>
      <td>500.0</td>
      <td>498.0</td>
      <td>0.437509</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sx</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;Cold Flow (L/hr)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Flow Rate H&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Cold Flow (L/hr)&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;UA&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;UA&quot;</span><span class="p">:</span> <span class="s2">&quot;ro-&quot;</span><span class="p">},</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Flow Rate H
H    AxesSubplot(0.125,0.125;0.775x0.755)
L    AxesSubplot(0.125,0.125;0.775x0.755)
M    AxesSubplot(0.125,0.125;0.775x0.755)
dtype: object
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_52_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_52_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sx</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;Hot Flow (L/hr)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Flow Rate C&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Hot Flow (L/hr)&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;UA&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;UA&quot;</span><span class="p">:</span> <span class="s2">&quot;ro-&quot;</span><span class="p">},</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Flow Rate C
H    AxesSubplot(0.125,0.125;0.775x0.755)
L    AxesSubplot(0.125,0.125;0.775x0.755)
M    AxesSubplot(0.125,0.125;0.775x0.755)
dtype: object
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_53_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_53_1.png" />
</div>
</div>
</section>
<section id="fitting-a-model-for-ua">
<h3>Fitting a Model for <span class="math notranslate nohighlight">\(UA\)</span><a class="headerlink" href="#fitting-a-model-for-ua" title="Permalink to this headline">#</a></h3>
<p>For a series of transport mechanisms, the overall heat transfer coefficient</p>
<div class="math notranslate nohighlight">
\[\frac{1}{UA} = \frac{1}{U_hA} + \frac{1}{U_{tubeA}} + \frac{1}{U_cA}\]</div>
<p><span class="math notranslate nohighlight">\(U_{tube}A\)</span> is a constant for this experiment. <span class="math notranslate nohighlight">\(U_h\)</span>A and <span class="math notranslate nohighlight">\(U_c\)</span>A varying with flowrate and proporitonal to dimensionless Nusselt number.  The hot and cold liquid flows in the double pipe heat exchanger are well within the range for fully developed turbulent flow. Under these conditions for flows inside closed tubes, the Dittus-Boelter equation provides an explicit expression for Nusselt number</p>
<div class="math notranslate nohighlight">
\[Nu = C \cdot Re ^{4/5} Pr ^ n\]</div>
<p>where <span class="math notranslate nohighlight">\(C\)</span> is a constant, <span class="math notranslate nohighlight">\(Re\)</span> is the Reynold’s number that is proportional to flowrate, and <span class="math notranslate nohighlight">\(Pr\)</span> is the Prandtl number determined by fluid properties.</p>
<p>Experimentally, consider a set of values for <span class="math notranslate nohighlight">\(UA\)</span> determined by varying <span class="math notranslate nohighlight">\(\dot{m}_h\)</span> and <span class="math notranslate nohighlight">\(\dot{m}_c\)</span> over range of values. Because Reynold’s number is proportional to flowrate, we can propose a model</p>
<div class="math notranslate nohighlight">
\[\frac{1}{UA} = R =  R_{t} + r_h \dot{q}_h^{-0.8} + r_c \dot{q}_h^{-0.8}\]</div>
<p>This suggests a linear regression for <span class="math notranslate nohighlight">\(R = \frac{1}{UA}\)</span> in terms of <span class="math notranslate nohighlight">\(X_h = \dot{q}_h^{-0.8}\)</span> and <span class="math notranslate nohighlight">\(X_c  = \dot{q}_c^{-0.8}\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hx</span><span class="p">[</span><span class="s2">&quot;R&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;UA&quot;</span><span class="p">]</span>
<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Xh&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Hot Flow (L/hr)&quot;</span><span class="p">]</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Xc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Cold Flow (L/hr)&quot;</span><span class="p">]</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.8</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="n">formula</span><span class="o">=</span><span class="s2">&quot;R ~ Xh + Xc&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">hx</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Intercept      0.141716
Xh           115.292199
Xc           186.346764
dtype: float64
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      R   R-squared:                       0.997
Model:                            OLS   Adj. R-squared:                  0.997
Method:                 Least Squares   F-statistic:                     3711.
Date:                Tue, 17 May 2022   Prob (F-statistic):           1.70e-27
Time:                        12:14:59   Log-Likelihood:                 44.929
No. Observations:                  24   AIC:                            -83.86
Df Residuals:                      21   BIC:                            -80.32
Df Model:                           2                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept      0.1417      0.032      4.425      0.000       0.075       0.208
Xh           115.2922      2.465     46.762      0.000     110.165     120.419
Xc           186.3468      2.233     83.445      0.000     181.703     190.991
==============================================================================
Omnibus:                        9.087   Durbin-Watson:                   0.894
Prob(Omnibus):                  0.011   Jarque-Bera (JB):                2.268
Skew:                           0.227   Prob(JB):                        0.322
Kurtosis:                       1.564   Cond. No.                         334.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Rh&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">115.3</span> <span class="o">*</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Xh&quot;</span><span class="p">]</span>
<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Rc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">186.3</span> <span class="o">*</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Xc&quot;</span><span class="p">]</span>
<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Rt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.142</span>

<span class="n">hx</span><span class="p">[</span><span class="s2">&quot;R_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Rt&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Rh&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;Rc&quot;</span><span class="p">]</span>
<span class="n">hx</span><span class="p">[[</span><span class="s2">&quot;R&quot;</span><span class="p">,</span> <span class="s2">&quot;R_pred&quot;</span><span class="p">,</span> <span class="s2">&quot;Rt&quot;</span><span class="p">,</span> <span class="s2">&quot;Rh&quot;</span><span class="p">,</span> <span class="s2">&quot;Rc&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>R</th>
      <th>R_pred</th>
      <th>Rt</th>
      <th>Rh</th>
      <th>Rc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.652986</td>
      <td>1.677494</td>
      <td>0.142</td>
      <td>0.647090</td>
      <td>0.888404</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.644344</td>
      <td>1.677494</td>
      <td>0.142</td>
      <td>0.647090</td>
      <td>0.888404</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.644344</td>
      <td>1.677494</td>
      <td>0.142</td>
      <td>0.647090</td>
      <td>0.888404</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.089553</td>
      <td>2.056945</td>
      <td>0.142</td>
      <td>0.647886</td>
      <td>1.267059</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.089553</td>
      <td>2.056945</td>
      <td>0.142</td>
      <td>0.647886</td>
      <td>1.267059</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2.089553</td>
      <td>2.056945</td>
      <td>0.142</td>
      <td>0.647886</td>
      <td>1.267059</td>
    </tr>
    <tr>
      <th>6</th>
      <td>3.460242</td>
      <td>3.462974</td>
      <td>0.142</td>
      <td>0.643926</td>
      <td>2.677047</td>
    </tr>
    <tr>
      <th>7</th>
      <td>3.460489</td>
      <td>3.462974</td>
      <td>0.142</td>
      <td>0.643926</td>
      <td>2.677047</td>
    </tr>
    <tr>
      <th>8</th>
      <td>3.460489</td>
      <td>3.462974</td>
      <td>0.142</td>
      <td>0.643926</td>
      <td>2.677047</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1.807095</td>
      <td>1.828466</td>
      <td>0.142</td>
      <td>0.795380</td>
      <td>0.891085</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1.807095</td>
      <td>1.828466</td>
      <td>0.142</td>
      <td>0.795380</td>
      <td>0.891085</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1.807095</td>
      <td>1.828466</td>
      <td>0.142</td>
      <td>0.795380</td>
      <td>0.891085</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2.289447</td>
      <td>2.236672</td>
      <td>0.142</td>
      <td>0.799196</td>
      <td>1.295476</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2.278034</td>
      <td>2.236672</td>
      <td>0.142</td>
      <td>0.799196</td>
      <td>1.295476</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2.289559</td>
      <td>2.236672</td>
      <td>0.142</td>
      <td>0.799196</td>
      <td>1.295476</td>
    </tr>
    <tr>
      <th>15</th>
      <td>3.610936</td>
      <td>3.637197</td>
      <td>0.142</td>
      <td>0.796648</td>
      <td>2.698550</td>
    </tr>
    <tr>
      <th>16</th>
      <td>3.610936</td>
      <td>3.637197</td>
      <td>0.142</td>
      <td>0.796648</td>
      <td>2.698550</td>
    </tr>
    <tr>
      <th>17</th>
      <td>3.610936</td>
      <td>3.637197</td>
      <td>0.142</td>
      <td>0.796648</td>
      <td>2.698550</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2.605346</td>
      <td>2.658637</td>
      <td>0.142</td>
      <td>1.630896</td>
      <td>0.885741</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2.605903</td>
      <td>2.658637</td>
      <td>0.142</td>
      <td>1.630896</td>
      <td>0.885741</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2.605903</td>
      <td>2.658637</td>
      <td>0.142</td>
      <td>1.630896</td>
      <td>0.885741</td>
    </tr>
    <tr>
      <th>21</th>
      <td>3.122589</td>
      <td>3.070617</td>
      <td>0.142</td>
      <td>1.637288</td>
      <td>1.291329</td>
    </tr>
    <tr>
      <th>22</th>
      <td>3.122589</td>
      <td>3.070617</td>
      <td>0.142</td>
      <td>1.637288</td>
      <td>1.291329</td>
    </tr>
    <tr>
      <th>23</th>
      <td>3.122589</td>
      <td>3.070617</td>
      <td>0.142</td>
      <td>1.637288</td>
      <td>1.291329</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="comparison-of-model-to-experimental-data">
<h3>Comparison of Model to Experimental Data<a class="headerlink" href="#comparison-of-model-to-experimental-data" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hx</span><span class="p">[</span><span class="s2">&quot;UA_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">hx</span><span class="p">[</span><span class="s2">&quot;R_pred&quot;</span><span class="p">]</span>
<span class="n">hx</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;UA&quot;</span><span class="p">,</span> <span class="s2">&quot;UA_pred&quot;</span><span class="p">],</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Heat Transfer Coefficient&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&#39;Heat Transfer Coefficient&#39;}&gt;
</pre></div>
</div>
<img alt="../_images/A.05-Tidy-Data-and-Pandas_59_1.png" src="../_images/A.05-Tidy-Data-and-Pandas_59_1.png" />
</div>
</div>
</section>
</section>
<section id="concluding-remarks">
<h2>Concluding Remarks<a class="headerlink" href="#concluding-remarks" title="Permalink to this headline">#</a></h2>
<p>Learning Pandas and data analysis is like learning to ride a bicycle. Once you have the enough knowledge to get going, the next steps are about practice and learning by doing.</p>
<p>This notobook provides basic knowledge to the use of pandas for data analysis for engineering applications. With Tidy Data principles, data analysis can be streamlined and intuitive. The next steps are to put these tools work on your data analaysis tasks, and explore other elements of the pandas library that can be useful in your work.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./python"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="A.00-Python-Tutorials.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Python Tutorials</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="A.10-Coding-Controllers-with-Python-Generators.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Coding Controllers with Python Generators</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Jeffrey Kantor<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>